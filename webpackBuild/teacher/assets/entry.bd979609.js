(()=>{"use strict";var e,t=Object.prototype.toString;function r(e){if(null==e)return e+"";var r,n=typeof e;if("undefined"===n)return"undefined";if("object"===n||"function"===n){var a=t.call(e).toLowerCase().slice(8,-1);return["boolean","number","string","function","array","date","regexp","object","error","symbol"].includes(a)?a:(r=e,("object"==typeof HTMLElement?r instanceof HTMLElement:r&&"object"==typeof r&&1===r.nodeType&&"string"==typeof r.nodeName)?"dom":"object")}return n}function n(e,t){void 0===t&&(t=2);var r=e+"";if(isNaN(e))return r;for(;r.length<t;)r="0"+r;return r}Array.prototype.slice,e=function e(t){if(void 0===t&&(t=new Date),t.hasOwnProperty("__calendarDate__"))return t;var a,o;"string"==r(t)&&(t=t.trim().replace(/-/g,"/")),o=r(a=t),t=["null","undefined"].includes(o)||"boolean"==o&&0==a||"array"==o&&0==a.length||"object"==o&&0==Object.keys(a).length||""===a?new Date:new Date(t);var i={};i.ND=t,i.year=t.getFullYear()+"",i.month=n(t.getMonth()+1),i.day=n(t.getDate()),i.hour=n(t.getHours()),i.minute=n(t.getMinutes()),i.second=n(t.getSeconds()),i.week=0==t.getDay()?"7":t.getDay()+"",i.timestamp=t.getTime()+"",i.time=Math.ceil(t.getTime()/1e3)+"",i.secondTimestamp=i.time,i.format=function(e){void 0===e&&(e="Y-m-d");for(var t=/[YmdHis]/g,r={Y:i.year,m:i.month,d:i.day,H:i.hour,i:i.minute,s:i.second,w:i.week},n=null,a=e;n=t.exec(e);)a=a.replace(n[0],r[n[0]]);return a};var l=function(t){return function(){var r=new(Date.bind.apply(Date,function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e}([void 0],t)));return r.getTime()+""==i.timestamp?i:e(r)}};return i.overall={},i.overall.format=l,i.overall.day=l([i.year,+i.month-1,i.day]),i.overall.firstOfYear=l([i.year,0,1]),i.overall.endOfYear=l([+i.year+1,0,0]),i.overall.firstOfMonth=l([i.year,+i.month-1,1]),i.overall.endOfMonth=l([i.year,i.month,0]),Object.defineProperty(i,"__calendarDate__",{enumerable:!1,value:t,writable:!1}),i.step={},i.step.secondOfYear=function(){return+i.overall.day().secondTimestamp-+i.overall.firstOfYear().secondTimestamp+""},i.step.dayOfYear=function(){return Math.floor(+i.step.secondOfYear()/86400)+1+""},i.step.weekOfYear=function(){return Math.floor((+i.step.dayOfYear()-+i.week)/7)+1+""},i}(),console.log(e)})();