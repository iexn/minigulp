@function scaleRem($rem) {
    @return $rem * 1.8rem * 2.5;
}

@function scaleEm($em) {
    @return $em * 2.56em;
}

.net-file-name {
    position: absolute;
    bottom: -1rem;
    font-size: .7rem;
    max-width: 3.5rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
#uploaderYunFiles .weui-uploader__file {
    margin-bottom: 1.2rem;
}

#oaNetDisk {

    * {
        box-sizing: border-box;
    }

    font-size: 1rem;
    $blue: #5d5def;
    $blue-disabled: #9d9ce2;

    user-select: none;
    position: fixed;
    z-index: 10000;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    height: 100%;
    background-color: rgb(244, 245, 247);
    
    a {
        color: inherit;
        text-decoration: none;
    }
    button {
        outline: none;
    }

    .nd-tabbar {
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: 10;
        display: flex;
        width: 100%;
        height: auto;
        justify-content: space-between;
        box-shadow: 1px -1px 5px #eee;
    }

    .nd-btn {
        width: 100%;
        height: scaleEm(1.5);
        border: none;
        background-color: #fff;
        color: #333;

        &.nd-btn-info {
            background-color: $blue;
            color: #fff;
            transition: linear .1s;

            &:disabled {
                background-color: $blue-disabled;
            }
        }

        .nd-btn-frame {
            display: block;
            transform: scale(0.8);
            text-align: center;

            & > .nd-btn-icon {
                display: block;
                font-size: scaleRem(.8);
            }

            & > .nd-btn-title {
                display: block;
                font-size: scaleRem(.35);
                white-space: nowrap;
            }
        }
    }

    .nd-header {
        position: relative;
        z-index: 2;
        box-shadow: 0 1px 3px #eee;
    }

    .nd-localize {
        display: flex;
        justify-content: space-between;
        font-size: scaleEm(0.7);
        line-height: scaleEm(1.2);
        background-color: #fff;
        padding: 0 scaleEm(.4);
        color: #333;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;

        .nd-local {
            color: #a5a5a5;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex: 1;
        }

        .nd-local-mkdir {
            margin-left: 10px;
            white-space: nowrap;
        }

        .fa-map-marker {
            color: $blue;
        }

        a {
            padding: 8px 0;
        }
    }

    .nd-layers {
        overflow: auto;
        -webkit-overflow-scrolling: touch;
        position: relative;
        width: 100%;

        // 减去顶部和顶部边距，底部在每个layer中设置padding-bottom: 4.5rem
        height: calc(100% - 1.4rem);
    }

    .nd-layer {
        width: 100%;
        padding-bottom: scaleEm(5.2);
    }

    .nd-files {
        padding-top: scaleEm(.2);
    }

    .nd-file {
        // display: flex;
        // justify-content: space-between;
        // width: 100%;
        // height: scaleRem(1.6);
        // background-color: #fff;
        // // padding: 0 scaleRem(.4);
        // transition: linear .1s;
        // font-size: scaleRem(.4);
        // line-height: scaleRem(1.6);
        
        label {
            width: 100%;

            input.nd-choose {
                display: none;

                &:checked + div {
                    background-color: #ccc;
                }
            }

            & > div {
                display: inline-block;
                display: flex;
                justify-content: space-between;
                width: 100%;
                height: scaleEm(1.6);
                background-color: #fff;
                padding: 0 scaleEm(.4);
                transition: linear .1s;
                font-size: scaleEm(.7);
                line-height: scaleEm(1.6);
            }
        }

        .nd-file-icon {
            display: flex;
            width: scaleEm(1.3);
            padding: scaleEm(0.4) scaleEm(0.2) scaleEm(0.4) 0;
            text-align: center;
            align-items: center;
            justify-content: center;

            img {
                height: 100%;
                object-fit: contain;
            }
        }

        .nd-file-title {
            flex: 1;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
    }

    .tab {
        display: none;
        position: relative;
        height: 100%;
    }

    &[data-tab="1"] .tab.tab1 {
        display: block;
    }

    &[data-tab="2"] .tab.tab2 {
        display: block;
    }

    .nd-dialog {
        position: fixed;
        z-index: 11;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        transform: translateX(-100%);

        // visibility: hidden;
        opacity: 0;

        &.on {
            transition: opacity linear .1s;
            transform: scale(1);
            visibility: visible;
            opacity: 1;
        }

        &.on .nd-dialog-section {
            visibility: visible;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            transition: linear .2s;
        }

        .nd-dialog-section {
            overflow: hidden;
            position: absolute;
            z-index: 2;
            top: 26%;
            left: 50%;
            min-width: 70%;
            background-color: #fff;
            border-radius: 8px;
            transform: translate(-50%, -50%) scale(1.1);

            // visibility: hidden;
            opacity: 0;
        }

        .nd-dialog-header {
            font-size: scaleRem(.5);
            font-weight: 800;
            text-align: center;
            padding: .4rem .4rem scaleRem(.1);
        }

        .nd-dialog-body {
            position: relative;
            margin: scaleRem(.4);

            .nd-dialog-text {
                display: flex;
                justify-content: space-between;
                height: scaleRem(1);
                background-color: #f0f0f0;
            }

            input[type="text"] {
                flex: 1;
                width: 100%;
                padding: 0 scaleRem(.2);
                border: none;
                outline: none;
                background-color: transparent;
                font-size: scaleRem(.4);
                border-radius: 2px;
            }

            .text-clear {
                width: scaleRem(1);
                padding-right: scaleRem(.2);
                display: flex;
                align-items: center;
                justify-content: center;

                i {
                    width: scaleRem(.6);
                    height: scaleRem(.6);
                    line-height: scaleRem(.6);
                    font-size: scaleRem(.4);
                    text-align: center;
                    background-color: #ccc;
                    color: #fff;
                    border-radius: 50%;
                }
            }
        }

        .nd-dialog-footer {
            display: flex;
            justify-content: space-between;

            button {
                width: 100%;
                border: none;
                line-height: scaleRem(1);
                background-color: #fff;
                color: #1583fc;
                border-top: 1px solid #f3f3f3;
                font-size: scaleRem(.4);

                &:not(:first-child) {
                    border-left: 1px solid #f3f3f3;
                }

                &:disabled {
                    color: #ccc;
                }
            }
        }
    }
    
    .loading {
        position: fixed;
        z-index: 10001;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        text-align: center;
        visibility: hidden;
        opacity: 0;
        transition: .15s linear;
    
        &.on {
            visibility: visible;
            opacity: 1;
        }
    
        .loading-box {
            position: relative;
            top: 40%;
            display: inline-block;
            padding: 0 1rem;
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            font-size: 0.8rem;
            border-radius: 4px;
            line-height: 1.8rem;
    
            i {
                line-height: inherit;
            }
        }
    
    }
}

